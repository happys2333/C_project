# CS205 C/C++ Programming Assignment 3
![license](https://img.shields.io/badge/License-MIT-yellowgreen)
![author](https://img.shields.io/badge/Author-%E5%BC%80%E5%BF%83-blue)
![language](https://camo.githubusercontent.com/c481d34384777e6ec69107514b9e61d6109e474b/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c616e67756167652d432532422532422d627269676874677265656e)
![platform](https://img.shields.io/badge/supported%20OS-Windows-red)
# 重要
如果您在使用本程序的时候无法打开，请安装Julia环境   
本程序内嵌了Julia语言的部分功能，从而提高了运算效率。   
本程序采取了GPU并行计算的思路，由于采用的是英伟达的CUDA核心，所以如果没有GPU支持的情况下请使用基础版本
本程序跨平台部分暂未实现，如果想在其他系统中使用，请自行配置Julia环境
# 目录
- [设计思路与分析](#设计思路)
- [测试情况](#测试)
- [代码](#程序代码)
- [亮点](#程序亮点)
# 设计思路
由于本程序中设计较多的浮点数内容的乘法运算，通常情况下CPU的浮点能力是较弱的，而GPU就会强的很多，所以本程序的主要部分是围绕于GPU的运算。   
在制作时候考虑到用户可能并不会都在有CUDA核心上都计算机运行本程序，所以本程序进行了多个不同情况都开发。鉴于不同环境的不同，所以本程序分成了以下的版本，分别在不同的文件夹中存放相关的可执行以及源代码：
- 普通版本：这个版本并没有进行GPU运算，但是出于效率考虑，采用了Julia做为程序的运行模块，通过Julia和C的联合开发可以加速程序的效率，这里支持高精度大数运算，但在处理多个数据但时候效率较低
- CUDA版本：本版本进行了针对英伟达核心的GPU运算，属于两个版本中运算速度最快的程序
### 普通版本
这里是最简单的版本，只实现了跨平台和CPU上的运算。但是效率是三个版本中最低的，同时不能支持高精度大数运算。


### Julia版本
**声明：由于本程序开发的特殊性质，所以采取的是通过c语言的接口，然后Julia做为本程序的主语言，虽然仍然是以c语言为主，但是主函数并不由c实现**
普通版本采用Julia做为主要的计算部分，这里还是通过上次的跨平台方法解决。   
C语言部分以跨平台实现为主要内容：    

值得声明的是，本程序的跨平台是通过不同平台进行不同的动态链接库编译实现，

### CUDA版本
**由于英伟达的限制，本版本的程序只能支持window10 64位系统和Linux进行运行，且应该在运行或者编译前配置好cuda环境**
思路较为简单，采取类似普通版本的思路，通过文件读写，实现本次运行的数据读取.
在这里选择GPU加速核心数目的时候采用了尽可能自行控制的原则，以960个核心同时计算为一组，同时采用了二维的设计，grid有一个，下属block有10个，block下属的thread有96个，每个grid共计960组线程。



# 测试
cuda版本测试指令为如下：
```shell
20000 10000
G:\test.txt
```
julia版本和C普通版本测试指令为：
```shell
```
# 程序代码
### 普通版本
**与CUDA版本源码类似，只是没有加入GPU加速模块**
```cpp
```
### Julia版本
```julia
```
```cpp
```
### CUDA版本
```cpp
```
# 程序亮点
- 通过进度条让您实时了解程序进度
- 通过并行GPU运算成倍提高程序运行效率
- 在用户没有相应的GPU环境的时候，可以选择普通的CPU运行模块来运行
- 支持中文输出
- 更好的数据结构，让用户可以更高效的利用空间
- 源代码与主要代码的分离，便于代码的开发与维护
- 支持多种不同模式运行，多个程序让用户可以直接选择
- Julia版本支持高精度大数运算，效率也比普通版本略高
- 直接输出文件，可以多种模式输入，增强程序的效率
